{{ define "main" }}
<div class="animate__animated animate__fadeIn p-2">
  <div class="border border-solid overflow-hidden">

    <div class="marquee2" data-duplicated='true' data-direction='left' data-pauseOnHover='false' data-speed='100' data-startVisible='true'>
      <span class="text-9xl font-semibold">{{.Title}}</span>
    </div>

    <div class="w-full flex flex-row font-semibold border-t border-b border-solid">
      <div class="p-5 w-1/2">
        {{ .Date.Format "Jan 2, 2006" }}
      </div>
      <div class="p-5 w-1/2 border-l border-solid">
        {{ .Params.tags }}
      </div>
    </div>

    <div class="max-w-3xl mx-auto py-10 text-4xl normal-case">
      <p class="max-w-none">{{.Description}}</p>
    </div>

    <div class="px-5">
      <div style="padding:56.25% 0 0 0;position:relative;"><iframe src={{ .Params.video }} style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe></div><script src="https://player.vimeo.com/api/player.js"></script>
    </div>

    <div class="max-w-3xl mx-auto py-10 normal-case markdown">
      {{ .Content }}
    </div>

    <div class="carousel pb-10 mx-auto">
      <div class="glide">
        <div class="glide__track" data-glide-el="track">
          <ul class="glide__slides">
            {{ range .Params.carousel }}
              <li class="glide__slide"><img src="{{ .image }}"/></li>
            {{ end }}
          </ul>
        </div>
        <div class="glide__arrows" data-glide-el="controls">
          <button class="glide__arrow glide__arrow--left" data-glide-dir="<">prev</button>
          <button class="glide__arrow glide__arrow--right" data-glide-dir=">">next</button>
        </div>
        <div class="glide__bullets" data-glide-el="controls[nav]">
          <button class="glide__bullet" data-glide-dir="=0"></button>
          <button class="glide__bullet" data-glide-dir="=1"></button>
          <button class="glide__bullet" data-glide-dir="=2"></button>
        </div>
      </div>
    </div>

  </div>

  <div class="flex flex-wrap max-w-3xl mx-auto py-10">
    <h2 class="text-4xl normal-case mb-5 w-full">Recent Projects</h2>
    {{ range where site.RegularPages "Section" "work" | first 3 }}
      <a href="{{.Permalink}}" class="w-1/3 p-1">
        <div class="h-64 relative" style="background:url({{.Params.image}}); background-size:cover; background-position: center;"></div>
        <h4 class="py-2">
          {{ .Title }}
        </h4>
      </a>
    {{ end }}
  </div>

  <div class="max-w-3xl mx-auto mb-10">
    {{ partial "contact-form" . }}
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/glide.min.js"></script>

<script type="text/javascript">
  $('.marquee2').marquee({});

  new Glide('.glide', {
    startAt: 1,
    perView: 1,
    peek: 300,
  }).mount()

</script>

{{ end }}
